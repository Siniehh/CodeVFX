{"version":3,"sources":["../../../../src/lib/internal/RootScan.ts"],"names":[],"mappings":";;;;;AAAA,SAAS,oBAAoB;AAC7B,SAAS,SAAS,YAAY;AAE9B,IAAI,OAAwB;AACrB,SAAS,cAAwB;AACvC,MAAI,SAAS;AAAM,WAAO;AAE1B,QAAM,MAAM,QAAQ,IAAI;AAExB,MAAI;AACH,UAAM,OAAO,KAAK,MAAM,aAAa,KAAK,KAAK,cAAc,GAAG,MAAM,CAAC;AACvE,WAAO,EAAE,MAAM,QAAQ,KAAK,KAAK,KAAK,IAAI,CAAC,GAAG,MAAM,KAAK,SAAS,WAAW,QAAQ,WAAW;AAAA,EACjG,QAAQ;AACP,WAAO,EAAE,MAAM,KAAK,MAAM,WAAW;AAAA,EACtC;AAEA,SAAO;AACR;AAbgB","sourcesContent":["import { readFileSync } from 'fs';\nimport { dirname, join } from 'path';\n\nlet data: RootData | null = null;\nexport function getRootData(): RootData {\n\tif (data !== null) return data;\n\n\tconst cwd = process.cwd();\n\n\ttry {\n\t\tconst file = JSON.parse(readFileSync(join(cwd, 'package.json'), 'utf8'));\n\t\tdata = { root: dirname(join(cwd, file.main)), type: file.type === 'module' ? 'ESM' : 'CommonJS' };\n\t} catch {\n\t\tdata = { root: cwd, type: 'CommonJS' };\n\t}\n\n\treturn data;\n}\n\nexport interface RootData {\n\troot: string;\n\ttype: 'ESM' | 'CommonJS';\n}\n"]}